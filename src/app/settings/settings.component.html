<h2>Settings</h2>

<!-- Dark Mode Toggle -->
<div class="dark-mode-toggle">
  <label class="toggle-switch">
    <input type="checkbox" id="darkModeToggle" (change)="toggleDarkMode($event)" [(ngModel)]="isDarkMode"
      name="darkMode">
    <span class="slider"></span>
  </label>
  <span>Dark Mode</span>
</div>

<!-- Profile Update Form -->
<form (ngSubmit)="updateProfile()">
  <label for="name">Display Name:</label>
  <input type="text" id="name" [(ngModel)]="displayName" name="displayName" required />

  <label for="photo">Profile Picture:</label>
  <input type="file" id="photo" (change)="onFileSelected($event)" accept="image/*" />

  <!-- Image Cropper & Preview -->
  <div *ngIf="photoPreview" class="image-preview-container">
    <p>Preview:</p>
    <img [src]="photoPreview" alt="Profile Preview" width="100" />
  </div>

  <button type="submit" [disabled]="isLoading">
    {{ isLoading ? 'Updating...' : 'Update Profile' }}
  </button>
</form>

<!-- Status Messages -->
<p *ngIf="message" class="status-message">{{ message }}</p>

<!-- Loading Indicator -->
<div *ngIf="isLoading" class="loading-spinner"></div>

<!-- Navigation -->
<a routerLink="/dashboard" class="back-link">Back to Dashboard</a>